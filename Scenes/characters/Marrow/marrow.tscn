[gd_scene load_steps=21 format=3 uid="uid://b8381bmosefni"]

[ext_resource type="Shader" path="res://Scenes/characters/Marrow/marrow.gdshader" id="1_fvj0y"]
[ext_resource type="Script" path="res://Scenes/characters/Marrow/marrow.gd" id="2_4p3jg"]
[ext_resource type="PackedScene" uid="uid://cxqoonawm54l3" path="res://Scenes/characters/Marrow/spr_marrow.tscn" id="3_0g11j"]
[ext_resource type="Script" path="res://Scenes/Hitboxes.gd" id="3_y3vc6"]
[ext_resource type="SpriteFrames" uid="uid://gcqfkv8ep8gj" path="res://Scenes/characters/Marrow/spr_marrow.tres" id="4_4b0c5"]
[ext_resource type="Script" path="res://Scenes/characters/collisionArea.gd" id="4_gpsae"]
[ext_resource type="AnimationLibrary" uid="uid://eatapbb04umh" path="res://Scenes/characters/Marrow/marrow.res" id="447_cp2fu"]
[ext_resource type="AnimationNodeBlendTree" uid="uid://up27wj44l7vt" path="res://Scenes/characters/Marrow/marrow.tres" id="448_pkoye"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_x0qlt"]
shader = ExtResource("1_fvj0y")
shader_parameter/color1 = Color(0, 0.666667, 0.533333, 1)
shader_parameter/color2 = Color(0.466667, 0.6, 1, 1)
shader_parameter/color3 = Color(0, 0.466667, 0.466667, 1)
shader_parameter/color4 = Color(0, 0.333333, 0.466667, 1)
shader_parameter/color5 = Color(0.333333, 0.4, 0.733333, 1)
shader_parameter/color6 = Color(0, 0.2, 0.333333, 1)
shader_parameter/color7 = Color(0, 0.866667, 0.733333, 1)
shader_parameter/color8 = Color(0.933333, 1, 1, 1)
shader_parameter/color9 = Color(0.8, 0.8, 0.666667, 1)
shader_parameter/color10 = Color(0.666667, 0.4, 0.266667, 1)
shader_parameter/color11 = Color(1, 1, 0, 1)
shader_parameter/color12 = Color(0.866667, 0.6, 0.466667, 1)
shader_parameter/color13 = Color(1, 0.8, 0.733333, 1)
shader_parameter/color14 = Color(0.4, 0.2, 0.133333, 1)
shader_parameter/color15 = Color(1, 0.266667, 0, 1)
shader_parameter/color16 = Color(248, 0, 248, 255)
shader_parameter/color17 = Color(248, 0, 248, 255)
shader_parameter/color18 = Color(248, 0, 248, 255)
shader_parameter/color19 = Color(248, 0, 248, 255)
shader_parameter/color20 = Color(248, 0, 248, 255)
shader_parameter/color21 = Color(248, 0, 248, 255)
shader_parameter/color22 = Color(248, 0, 248, 255)
shader_parameter/color23 = Color(248, 0, 248, 255)
shader_parameter/color24 = Color(248, 0, 248, 255)
shader_parameter/color25 = Color(248, 0, 248, 255)
shader_parameter/newColor1 = Color(0, 0.666667, 0.533333, 1)
shader_parameter/newColor2 = Color(0.466667, 0.6, 1, 1)
shader_parameter/newColor3 = Color(0, 0.466667, 0.466667, 1)
shader_parameter/newColor4 = Color(0, 0.333333, 0.466667, 1)
shader_parameter/newColor5 = Color(0.333333, 0.4, 0.733333, 1)
shader_parameter/newColor6 = Color(0, 0.2, 0.333333, 1)
shader_parameter/newColor7 = Color(0, 0.866667, 0.733333, 1)
shader_parameter/newColor8 = Color(0.933333, 1, 1, 1)
shader_parameter/newColor9 = Color(0.8, 0.8, 0.666667, 1)
shader_parameter/newColor10 = Color(0.666667, 0.4, 0.266667, 1)
shader_parameter/newColor11 = Color(1, 1, 0, 1)
shader_parameter/newColor12 = Color(0.866667, 0.6, 0.466667, 1)
shader_parameter/newColor13 = Color(1, 0.8, 0.733333, 1)
shader_parameter/newColor14 = Color(0.4, 0.2, 0.133333, 1)
shader_parameter/newColor15 = Color(1, 0.266667, 0, 1)
shader_parameter/newColor16 = Color(248, 0, 248, 255)
shader_parameter/newColor17 = Color(248, 0, 248, 255)
shader_parameter/newColor18 = Color(248, 0, 248, 255)
shader_parameter/newColor19 = Color(248, 0, 248, 255)
shader_parameter/newColor20 = Color(248, 0, 248, 255)
shader_parameter/newColor21 = Color(248, 0, 248, 255)
shader_parameter/newColor22 = Color(248, 0, 248, 255)
shader_parameter/newColor23 = Color(248, 0, 248, 255)
shader_parameter/newColor24 = Color(248, 0, 248, 255)
shader_parameter/newColor25 = Color(248, 0, 248, 255)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_educ5"]
size = Vector2(34, 88)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_l40to"]
size = Vector2(1, 1)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_x4kfw"]
resource_local_to_scene = true
size = Vector2(47, 59)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_xm8so"]
size = Vector2(0, 0)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_xmm0b"]
size = Vector2(0, 0)

[sub_resource type="RectangleShape2D" id="5"]
resource_local_to_scene = true
size = Vector2(0, 0)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_5auy0"]
size = Vector2(0, 0)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_mmfye"]
resource_local_to_scene = true
size = Vector2(32, 88)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_53n7y"]
size = Vector2(1, 1)

[sub_resource type="Animation" id="Animation_ml7xx"]
length = 0.001
step = 0.0166667
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": ["default"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("../Hurtboxes/Hurtbox:position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [Vector2(-0.5, 11)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("../Hitboxes/Hitbox:disabled")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("../CollisionBox:shape:size")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [Vector2(34, 88)]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("../Hitboxes/Hitbox:position")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [Vector2(89.5, -17.5)]
}
tracks/6/type = "value"
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/path = NodePath("../Hitboxes/Hitbox:shape:size")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [Vector2(0, 0)]
}
tracks/7/type = "value"
tracks/7/imported = false
tracks/7/enabled = true
tracks/7/path = NodePath("../Hitboxes:hitstop")
tracks/7/interp = 1
tracks/7/loop_wrap = true
tracks/7/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [15]
}
tracks/8/type = "value"
tracks/8/imported = false
tracks/8/enabled = true
tracks/8/path = NodePath("../Hitboxes:vstun")
tracks/8/interp = 1
tracks/8/loop_wrap = true
tracks/8/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [10]
}
tracks/9/type = "value"
tracks/9/imported = false
tracks/9/enabled = true
tracks/9/path = NodePath("../Hurtboxes/Hurtbox:shape:size")
tracks/9/interp = 1
tracks/9/loop_wrap = true
tracks/9/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [Vector2(47, 59)]
}
tracks/10/type = "value"
tracks/10/imported = false
tracks/10/enabled = true
tracks/10/path = NodePath("../Hitboxes:hitProperty")
tracks/10/interp = 1
tracks/10/loop_wrap = true
tracks/10/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}
tracks/11/type = "value"
tracks/11/imported = false
tracks/11/enabled = true
tracks/11/path = NodePath("../Hurtboxes/Hurtbox:disabled")
tracks/11/interp = 1
tracks/11/loop_wrap = true
tracks/11/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/12/type = "value"
tracks/12/imported = false
tracks/12/enabled = true
tracks/12/path = NodePath("../collisionArea/collisionAreaCollision:position")
tracks/12/interp = 1
tracks/12/loop_wrap = true
tracks/12/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [Vector2(0, 4)]
}
tracks/13/type = "value"
tracks/13/imported = false
tracks/13/enabled = true
tracks/13/path = NodePath("../collisionArea/collisionAreaCollision:shape:size")
tracks/13/interp = 1
tracks/13/loop_wrap = true
tracks/13/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [Vector2(32, 88)]
}
tracks/14/type = "value"
tracks/14/imported = false
tracks/14/enabled = true
tracks/14/path = NodePath("../Hitboxes:stunVector")
tracks/14/interp = 1
tracks/14/loop_wrap = true
tracks/14/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [Vector2(500, -50)]
}
tracks/15/type = "value"
tracks/15/imported = false
tracks/15/enabled = true
tracks/15/path = NodePath("../grabPosition:position")
tracks/15/interp = 1
tracks/15/loop_wrap = true
tracks/15/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [Vector2(56, -16)]
}
tracks/16/type = "value"
tracks/16/imported = false
tracks/16/enabled = true
tracks/16/path = NodePath("../Hurtboxes/Hurtbox2:disabled")
tracks/16/interp = 1
tracks/16/loop_wrap = true
tracks/16/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/17/type = "value"
tracks/17/imported = false
tracks/17/enabled = true
tracks/17/path = NodePath("../Hurtboxes/Hurtbox2:shape:size")
tracks/17/interp = 1
tracks/17/loop_wrap = true
tracks/17/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [Vector2(0, 0)]
}
tracks/18/type = "value"
tracks/18/imported = false
tracks/18/enabled = true
tracks/18/path = NodePath("../Hurtboxes/Hurtbox2:position")
tracks/18/interp = 1
tracks/18/loop_wrap = true
tracks/18/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [Vector2(24, 32)]
}
tracks/19/type = "value"
tracks/19/imported = false
tracks/19/enabled = true
tracks/19/path = NodePath("../Hurtboxes/Hurbotx3:shape:size")
tracks/19/interp = 1
tracks/19/loop_wrap = true
tracks/19/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [Vector2(0, 0)]
}
tracks/20/type = "value"
tracks/20/imported = false
tracks/20/enabled = true
tracks/20/path = NodePath("../Hurtboxes/Hurbotx3:disabled")
tracks/20/interp = 1
tracks/20/loop_wrap = true
tracks/20/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/21/type = "value"
tracks/21/imported = false
tracks/21/enabled = true
tracks/21/path = NodePath("../Hurtboxes/Hurbotx3:position")
tracks/21/interp = 1
tracks/21/loop_wrap = true
tracks/21/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [Vector2(37.375, 9.5)]
}
tracks/22/type = "value"
tracks/22/imported = false
tracks/22/enabled = true
tracks/22/path = NodePath("../Hitboxes/Hitbox2:shape:size")
tracks/22/interp = 1
tracks/22/loop_wrap = true
tracks/22/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [Vector2(0, 0)]
}
tracks/23/type = "value"
tracks/23/imported = false
tracks/23/enabled = true
tracks/23/path = NodePath("../Hitboxes/Hitbox2:disabled")
tracks/23/interp = 1
tracks/23/loop_wrap = true
tracks/23/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/24/type = "value"
tracks/24/imported = false
tracks/24/enabled = true
tracks/24/path = NodePath("../Hitboxes/Hitbox2:position")
tracks/24/interp = 1
tracks/24/loop_wrap = true
tracks/24/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(47, -8)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_yv7pk"]
resource_local_to_scene = true
_data = {
"RESET": SubResource("Animation_ml7xx")
}

[node name="charBody2D" type="CharacterBody2D" node_paths=PackedStringArray("animatedSprite", "animatedTree") groups=["CollisionBox"]]
material = SubResource("ShaderMaterial_x0qlt")
collision_layer = 0
collision_mask = 4
floor_block_on_wall = false
script = ExtResource("2_4p3jg")
animatedSprite = NodePath("sprMarrow")
animatedTree = NodePath("AnimationPlayer/AnimationTree")

[node name="sprMarrow" parent="." instance=ExtResource("3_0g11j")]
texture_filter = 1
sprite_frames = ExtResource("4_4b0c5")
animation = &"default"
frame = 0
frame_progress = 0.0

[node name="CollisionBox" type="CollisionShape2D" parent="."]
visible = false
position = Vector2(0, 5)
shape = SubResource("RectangleShape2D_educ5")

[node name="anchorPoint" type="Area2D" parent="."]
position = Vector2(0, 48)
collision_layer = 256
collision_mask = 256

[node name="anchorCollision" type="CollisionShape2D" parent="anchorPoint"]
position = Vector2(0, 8)
shape = SubResource("RectangleShape2D_l40to")
debug_color = Color(1, 1, 1, 1)

[node name="Marker2D" type="Marker2D" parent="anchorPoint"]
position = Vector2(0, 48)

[node name="tmrKnockdown" type="Timer" parent="."]
one_shot = true

[node name="Hurtboxes" type="Area2D" parent="." groups=["Hurtboxes"]]
collision_layer = 2
collision_mask = 0

[node name="Hurtbox" type="CollisionShape2D" parent="Hurtboxes"]
light_mask = 2
visibility_layer = 4
position = Vector2(-0.5, 11)
shape = SubResource("RectangleShape2D_x4kfw")
debug_color = Color(0, 0.647059, 0.254902, 0.419608)

[node name="Hurtbox2" type="CollisionShape2D" parent="Hurtboxes"]
position = Vector2(24, 32)
shape = SubResource("RectangleShape2D_xm8so")
disabled = true
debug_color = Color(0, 0.647059, 0.254902, 0.419608)

[node name="Hurbotx3" type="CollisionShape2D" parent="Hurtboxes"]
position = Vector2(37.375, 9.5)
shape = SubResource("RectangleShape2D_xmm0b")
disabled = true
debug_color = Color(0, 0.647059, 0.254902, 0.419608)

[node name="Hitboxes" type="Area2D" parent="." groups=["Hitboxes"]]
collision_layer = 4
collision_mask = 10
script = ExtResource("3_y3vc6")
stun = 30
stunVector = Vector2(500, -50)
damage = 575
attackType = 2
hitstop = 15
vstun = 10

[node name="Hitbox" type="CollisionShape2D" parent="Hitboxes"]
light_mask = 4
visibility_layer = 2
position = Vector2(89.5, -17.5)
shape = SubResource("5")
disabled = true
debug_color = Color(1, 0, 0.0784314, 0.419608)

[node name="Hitbox2" type="CollisionShape2D" parent="Hitboxes"]
position = Vector2(47, -8)
shape = SubResource("RectangleShape2D_5auy0")
disabled = true
debug_color = Color(1, 0, 0.0784314, 0.419608)

[node name="collisionArea" type="Area2D" parent="." groups=["CollisionBox"]]
visible = false
collision_layer = 8
collision_mask = 8
script = ExtResource("4_gpsae")

[node name="collisionAreaCollision" type="CollisionShape2D" parent="collisionArea" groups=["CollisionBox"]]
position = Vector2(0, 4)
shape = SubResource("RectangleShape2D_mmfye")
debug_color = Color(0.105957, 0, 0.732455, 0.42)

[node name="grabPosition" type="CollisionShape2D" parent="."]
position = Vector2(56, -16)
shape = SubResource("RectangleShape2D_53n7y")
disabled = true
debug_color = Color(0.398854, 0.0011998, 0.59075, 0.42)

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
root_node = NodePath("../sprMarrow")
libraries = {
"": SubResource("AnimationLibrary_yv7pk"),
"lilith": ExtResource("447_cp2fu")
}

[node name="AnimationTree" type="AnimationTree" parent="AnimationPlayer"]
active = false
root_node = NodePath("../../sprMarrow")
tree_root = ExtResource("448_pkoye")
anim_player = NodePath("..")
parameters/Attacking/current_state = "HP"
parameters/Attacking/transition_request = ""
parameters/Attacking/current_index = 2
parameters/CrouchAttacking/current_state = ""
parameters/CrouchAttacking/transition_request = ""
parameters/CrouchAttacking/current_index = -1
parameters/CrouchHit/current_state = ""
parameters/CrouchHit/transition_request = ""
parameters/CrouchHit/current_index = -1
parameters/CrouchingAction/current_state = ""
parameters/CrouchingAction/transition_request = ""
parameters/CrouchingAction/current_index = -1
parameters/Hit/current_state = "hit"
parameters/Hit/transition_request = ""
parameters/Hit/current_index = 1
parameters/IdleState/current_state = "idle"
parameters/IdleState/transition_request = ""
parameters/IdleState/current_index = 0
parameters/Jump/current_state = "falling"
parameters/Jump/transition_request = ""
parameters/Jump/current_index = 1
parameters/JumpAttacking/current_state = "LK"
parameters/JumpAttacking/transition_request = ""
parameters/JumpAttacking/current_index = 3
parameters/JumpHit/current_state = ""
parameters/JumpHit/transition_request = ""
parameters/JumpHit/current_index = -1
parameters/JumpingAction/current_state = "attacking"
parameters/JumpingAction/transition_request = ""
parameters/JumpingAction/current_index = 2
parameters/Movement/current_state = "idle"
parameters/Movement/transition_request = ""
parameters/Movement/current_index = 0
parameters/StandingAction/current_state = "idle"
parameters/StandingAction/transition_request = ""
parameters/StandingAction/current_index = 0
parameters/State/current_state = "standing"
parameters/State/transition_request = ""
parameters/State/current_index = 0
parameters/TimeScale/scale = 1.0
parameters/jumpDirection/current_state = ""
parameters/jumpDirection/transition_request = "backwards"
parameters/jumpDirection/current_index = -1
parameters/knockDownAction/current_state = ""
parameters/knockDownAction/transition_request = "airborne"
parameters/knockDownAction/current_index = -1

[connection signal="body_entered" from="anchorPoint" to="." method="_on_anchor_point_body_entered"]
[connection signal="body_exited" from="anchorPoint" to="." method="_on_anchor_point_body_exited"]
[connection signal="timeout" from="tmrKnockdown" to="." method="_on_tmr_knockdown_timeout"]
[connection signal="area_entered" from="Hitboxes" to="." method="_on_hitboxes_area_entered"]
[connection signal="area_entered" from="Hitboxes" to="Hitboxes" method="_on_area_entered"]
